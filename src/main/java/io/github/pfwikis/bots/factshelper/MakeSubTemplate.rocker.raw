@args(FormDefinition parent, FormDefinition form)
<noinclude>
{{Bot created|Bot Facts Helper}}
{{#template_params:
@for((i,prop):form.getRProperties()) {
@if(!i.first()){|}@prop.getName() (property=@prop.getName())
}
}}
[[Category:Synced to starfinderwiki]][[Category:Facts templates]]
</noinclude><includeonly><!--


Only show the properties on the /Sections subpage
-->{{#ifeq:{{SUBPAGENAME}}|@form.getPluralName()|
{{#ifeq:{{#counter: i}}|1
|<div class="facts-display-header">
  <div class="facts-display-header-item">[[Facts:{{ROOTPAGENAME}}|General @parent.getName() Facts]]</div>
  @for(sub:parent.getSubForms()) {
  <div class="facts-display-header-item">{{#ifeq:{{PAGENAME}}|{{ROOTPAGENAME}}/@sub.getPluralName()|@sub.getPluralName()|{{#formredlink:target=Facts:{{ROOTPAGENAME}}/@sub.getPluralName()|form=@parent.getName()/@sub.getName()|link text=Create @sub.getPluralName()|existing page link text=@sub.getPluralName()}}}}</div>
  }
</div>
}}
<div class="facts-display facts-display-@parent.toCSSName()-@form.toCSSName()">
@for(prop:form.getRProperties()) {
@DisplayTemplateField.template(prop.getName(), prop.getFactType().displayFactCode(prop.getName())) -> {
@prop.getFactType().displayFactCode(prop.getName())
}
}
</div>[[Category:Facts about @parent.getName() @form.getPluralName()]]
}}<!--




Only store the properties if this template is transcluded into a root page.
-->{{#ifeq:{{ROOTPAGENAME}}|{{PAGENAME}}|
{{#subobject:
|Fact type=Template:Facts/@parent.getName()/@form.getName()
@for(prop:form.getRProperties()) {@prop.getFactType().storeSubFactCode(prop.getName())}
|@@sortkey={{#counter: @form.getName()-counter | pad length=3 }}
}}<!--

Copy some fields to parent
-->@for(prop:form.getRProperties()) {@prop.getFactType().subFormSpecial(prop.getName())}
}}
</includeonly>
